<!-- 
6. Make the function from exercise 5 accept its parameters as either a parameter list or as two arrays containing 2D or 3D point data. 
        Example:
        distance (1, 2, 2, 2); // returns 1 (done as part of exercise 5)
distance ([1,2], [2,2]); // returns 1
        distance ([1,2], [2,2,4]); // error: incompatible point data
        Function overloading and validation
Estimated Time: 4 hr.
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Chapter 03, ex 01</title>
    <script type="text/javascript" src="../../scripts/assert.js"></script>
    <link href="../../styles/assert.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <script type="text/javascript">

      function distance(){

        function distance2D(x1, y1, x2, y2){
          return Math.sqrt(
            Math.pow((x1 - x2), 2) + 
            Math.pow((y1 -y2), 2));              
        }
        
        function distance3D(x1, y1, z1, x2, y2, z2){
          return Math.sqrt(
            Math.pow((x1 - x2), 2) + 
            Math.pow((y1 -y2), 2) +
            Math.pow(z1 - z2, 2));          
        }        

        if (arguments.length == 2){
          var p1 = arguments[0];
          var p2 = arguments[1];
          if (p1.length != p2.length){
            console.log("Different sized arrays");
            return undefined;            
          }
          if(p1.length == 2)
          {
            distance2D(p1[0], p1[1], p2[0], p2[1]);
          }
          else if(p1.length == 3){
            distance3D(p1[0], p1[1], p1[2], p2[0], p2[1], p2[2]);
          }
          else{
            console.log("Wrong number of parameters");
          }
        }
        else if (arguments.length == 4)
        {
            return distance2D(arguments[0], arguments[1], 
              arguments[2], arguments[3]);
        }
        else if (arguments.length == 6){
            return distance3D(arguments[0], arguments[1], arguments[2], 
              arguments[3], arguments[4], arguments[5]);
        }
        else{
          console.log("Wrong number of parameters");
          return undefined;
        }
      }

      // Unit testing
      var x1 = 1, y1 = 2, z1 = 1;
      var x2 = 2, y2 = 2, z2 = 4;

      console.log("aloha");
      var d1 = 200;
      d1 = distance(x1, y1, x2, y2)
      console.log("d1 = " + d1);
      assert(distance(x1, y1, x2, y2) === 1,
       "Distance 2D = 1");
      
      var delta = distance(x1, y1, z1, x2, y2, z2);
      console.log("delta = " + delta);
      console.log("floored delta = " + Math.floor(delta * 10000) / 10000);
      
      assert(Math.floor(delta * 10000) / 10000  === 3.1622,
       "distance 3D = 3.1622");
      
      assert(distance(2,3,1) === undefined,
       "distance(2,3,1) === undefined");
      assert(distance() === undefined,
       "distance() === undefined");      
      assert(distance(1,2,3,4,5,6,7) === undefined,
        "distance(1,2,3,4,5,6,7) === undefined");        
      assert(distance(1,1,1,1,1,1) === 0, 
        "distance(1,1,1,1,1,1) === 0");

    </script>
  </body>
</html>
