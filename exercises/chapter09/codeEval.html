<!-- 
1. Create a function that receives a parameter containing a string. 
The string data must be transformed into an object that can hold properties and methods. 
Note: Some changes may be required in the string data
        Example:
        var str = “{prop1: 42, myFn: function(a, b) { return a+b+this.prop1;}}”


        var obj = dataParse(str);
        Use of JSON parse, and function code evaluation
Estimated Time: 2 hr.
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Chapter 08, ex 01.01</title>
    <script type="text/javascript" src="../../scripts/assert.js"></script>
    <link href="../../styles/assert.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <script type="text/javascript">            

      function dataParse(str){
        //wrap in parentheses
        str = "(" + str + ")";
        return eval(str);
      }

      var str = "{prop1: 42, myFn: function(a, b) { return a+b+this.prop1;}}";          

      var obj = dataParse(str);

      assert(obj !== undefined, "The object was created");
      assert(obj.prop1 == 42, "obj.prop1 ==42");
      assert(obj.myFn(5,3) == 50, "obj.myFn(5,3) == 50");
      obj.prop1++;
      assert(obj.myFn(1,2) == 46, "obj.prop1++; obj.myFn(5,3) == 46");

    </script>
  </body>
</html>
